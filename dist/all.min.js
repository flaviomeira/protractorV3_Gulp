exports.config={seleniumAddress:"http://localhost:4444/wd/hub",specs:["todo-spec.js"]};var protractor=require("gulp-protractor").protractor,gulp=require("gulp"),jshint=require("gulp-jshint"),sass=require("gulp-sass"),concat=require("gulp-concat"),uglify=require("gulp-uglify"),rename=require("gulp-rename");gulp.src(["./src/tests/*.js"]).pipe(protractor({configFile:"conf.js",args:["--baseUrl","http://127.0.0.1:8000"]})).on("error",function(e){throw e}),gulp.task("protractor-run",function(e){console.log("terminou de rodar testes")}),gulp.task("default",function(){return gulp.src("*.js").pipe(concat("all.js")).pipe(gulp.dest("dist")).pipe(rename("all.min.js")).pipe(uglify()).pipe(gulp.dest("dist"))}),describe("angularjs homepage todo list",function(){it("should add a todo",function(){browser.get("https://angularjs.org"),element(by.model("todoList.todoText")).sendKeys("write first protractor test"),element(by.css('[value="add"]')).click();var e=element.all(by.repeater("todo in todoList.todos"));expect(e.count()).toEqual(3),expect(e.get(2).getText()).toEqual("write first protractor test"),e.get(2).element(by.css("input")).click();var t=element.all(by.css(".done-true"));expect(t.count()).toEqual(2)})});